"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[43711],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return m}});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=n.createContext({}),l=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=l(r),m=a,k=d["".concat(p,".").concat(m)]||d[m]||u[m]||o;return r?n.createElement(k,i(i({ref:t},c),{},{components:r})):n.createElement(k,i({ref:t},c))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var l=2;l<o;l++)i[l]=r[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},44256:function(e,t,r){r.r(t),r.d(t,{assets:function(){return c},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return u}});var n=r(87462),a=r(63366),o=(r(67294),r(3905)),i=["components"],s={id:"pulsar-2.7.1",title:"Apache Pulsar 2.7.1",sidebar_label:"Apache Pulsar 2.7.1"},p=void 0,l={unversionedId:"docs/pulsar-2.7.1",id:"docs/pulsar-2.7.1",title:"Apache Pulsar 2.7.1",description:"build",source:"@site/release-notes/docs/pulsar-2.7.1.md",sourceDirName:"docs",slug:"/docs/pulsar-2.7.1",permalink:"/zh-CN/release-notes/docs/pulsar-2.7.1",tags:[],version:"current",frontMatter:{id:"pulsar-2.7.1",title:"Apache Pulsar 2.7.1",sidebar_label:"Apache Pulsar 2.7.1"}},c={},u=[{value:"build",id:"build",level:2},{value:"metrics",id:"metrics",level:2},{value:"topic-policy",id:"topic-policy",level:2},{value:"transaction",id:"transaction",level:2},{value:"sql",id:"sql",level:2},{value:"cli",id:"cli",level:2},{value:"broker",id:"broker",level:2},{value:"schemaregistry",id:"schemaregistry",level:2},{value:"admin",id:"admin",level:2},{value:"storage",id:"storage",level:2},{value:"tool",id:"tool",level:2},{value:"stats",id:"stats",level:2},{value:"tieredstorage",id:"tieredstorage",level:2},{value:"go",id:"go",level:2},{value:"connector",id:"connector",level:2},{value:"security",id:"security",level:2},{value:"test",id:"test",level:2},{value:"helm",id:"helm",level:2},{value:"proxy",id:"proxy",level:2},{value:"storm",id:"storm",level:2},{value:"deploy",id:"deploy",level:2}],d={toc:u};function m(e){var t=e.components,r=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"build"},"build"),(0,o.kt)("p",null,"Remove gtest file from cpp library #9816",(0,o.kt)("br",{parentName:"p"}),"\n","Remove Spring repo #9280",(0,o.kt)("br",{parentName:"p"}),"\n","remove hbase-server dependency #9278  "),(0,o.kt)("h2",{id:"metrics"},"metrics"),(0,o.kt)("p",null,"[docs]"," Add content for managed cursor ack stats #9801",(0,o.kt)("br",{parentName:"p"}),"\n","[Issue 9535]"," Add metrics for the cursor ack state #9618  "),(0,o.kt)("h2",{id:"topic-policy"},"topic-policy"),(0,o.kt)("p",null,"Fix topic ownership is not checked #9767",(0,o.kt)("br",{parentName:"p"}),"\n","[Doc]"," Add doc on how to configure max subscriptions per topic at the topic level  #9748",(0,o.kt)("br",{parentName:"p"}),"\n","[DOCS]"," - Update the topic-level policies #9530",(0,o.kt)("br",{parentName:"p"}),"\n","[docs]","Add topic-level policy config #9108",(0,o.kt)("br",{parentName:"p"}),"\n","Support configure max subscriptions per topic on the topic level policy #8948",(0,o.kt)("br",{parentName:"p"}),"\n","Fix subscription dispatch rate does not work after the topic unload without dispatch rate limit. #8947  "),(0,o.kt)("h2",{id:"transaction"},"transaction"),(0,o.kt)("p",null,"[Issue 9725][Transaction]"," - Fix deleteTransactionMarker memory leak (target branch-2.7) #9752",(0,o.kt)("br",{parentName:"p"}),"\n","[Transaction]"," Fix transaction log replay not handle right. #8723  "),(0,o.kt)("h2",{id:"sql"},"sql"),(0,o.kt)("p",null,"Duplicate key ",(0,o.kt)("strong",{parentName:"p"},"pfn_input_topic")," in presto server #9686",(0,o.kt)("br",{parentName:"p"}),"\n","[Branch-2.7]"," Pulsar sql key-value schema separated model support. #9685",(0,o.kt)("br",{parentName:"p"}),"\n","[Pulsar SQL]"," Fix OffloadPolicies json serialization error in Pulsar SQL #9300  "),(0,o.kt)("h2",{id:"cli"},"cli"),(0,o.kt)("p",null,"[cli]"," pulsar-perf uses DefaultCryptoKeyReader for E2E encryption #9668",(0,o.kt)("br",{parentName:"p"}),"\n","[Doc]"," Update pulsar-client cli doc with newer options. #9524",(0,o.kt)("br",{parentName:"p"}),"\n","Fix setting backlogQuota will always succeed #9382  "),(0,o.kt)("h2",{id:"broker"},"broker"),(0,o.kt)("p",null,"[Compression]"," Fix ByteBuffer allocate error in the AirliftUtils #9667",(0,o.kt)("br",{parentName:"p"}),"\n","[Broker]"," Fix race condition in BrokerService topic cache #9565",(0,o.kt)("br",{parentName:"p"}),"\n","[pulsar-broker]","Add alerts for expired/expiring soon tokens #9321",(0,o.kt)("br",{parentName:"p"}),"\n","Fix system topic can not auto created #9272",(0,o.kt)("br",{parentName:"p"}),"\n","Handle web application exception to redirect request #9228",(0,o.kt)("br",{parentName:"p"}),"\n","[pulsar-broker]"," Fix: handle topic loading failure due to broken schema ledger #9212",(0,o.kt)("br",{parentName:"p"}),"\n","Fix issue with topic compaction when compaction ledger is empty #9206",(0,o.kt)("br",{parentName:"p"}),"\n","[feature][pulsar-broker-common]","Move additional servlet module to pulsar broker common module #9164",(0,o.kt)("br",{parentName:"p"}),"\n","Fix wrong default value #9149",(0,o.kt)("br",{parentName:"p"}),"\n","fix the closed ledger did not delete after expired #9136",(0,o.kt)("br",{parentName:"p"}),"\n","Issue 9082: Broker expires messages one at a time after topic unload #9083",(0,o.kt)("br",{parentName:"p"}),"\n","add updateRates method for kop to collect publish rate #9049",(0,o.kt)("br",{parentName:"p"}),"\n","Improve error handling when broker doesn't trust client certificates #8998",(0,o.kt)("br",{parentName:"p"}),"\n","Intercept beforeSendMessage calls #8932",(0,o.kt)("br",{parentName:"p"}),"\n","[pulsar-broker]"," capture stats with precise backlog #8928",(0,o.kt)("br",{parentName:"p"}),"\n","[Issue 8783][pulsar-broker]"," Execute removing non-persistent subscription of topic from different thread to avoid deadlock when removing inactive subscriptions #8820",(0,o.kt)("br",{parentName:"p"}),"\n","Issue #8533: Change method ",(0,o.kt)("inlineCode",{parentName:"p"},"getWebServiceUrl")," into async #8746",(0,o.kt)("br",{parentName:"p"}),"\n","[Issue #8204][pulsar-broker]"," Fixes first automatic compaction issue #8209  "),(0,o.kt)("h2",{id:"schemaregistry"},"schemaregistry"),(0,o.kt)("p",null,"[Schema]"," Schema comparison logic change. #9612",(0,o.kt)("br",{parentName:"p"}),"\n","[Pulsar sql]"," Support keyValue Schema add integration test. #9388",(0,o.kt)("br",{parentName:"p"}),"\n","add properties default value for SchemaInfoBuilder #8952  "),(0,o.kt)("h2",{id:"admin"},"admin"),(0,o.kt)("p",null,"[Admin CLI]"," Inform user when expire message request is not executed. #9561",(0,o.kt)("br",{parentName:"p"}),"\n","Fix get-message-by-id throwing NPE when message is null #9537",(0,o.kt)("br",{parentName:"p"}),"\n","makes subscription start from MessageId.latest defaultly #9444",(0,o.kt)("br",{parentName:"p"}),"\n","Fix admin-api-brokers list failed #9191",(0,o.kt)("br",{parentName:"p"}),"\n","fix force delete namespace did not delete all topics of the namespace #8806",(0,o.kt)("br",{parentName:"p"}),"\n","Issue 8677: Cannot get lastMessageId for an empty topic due to message retention #8725  "),(0,o.kt)("h2",{id:"storage"},"storage"),(0,o.kt)("p",null,"[Broker]"," Async read entries with max size bytes #9532  "),(0,o.kt)("h2",{id:"tool"},"tool"),(0,o.kt)("p",null,"[Issue 9496]"," fix logic in ManagedLedgerWriter when config threadNum >= ledgerNum #9497  "),(0,o.kt)("h2",{id:"stats"},"stats"),(0,o.kt)("p",null,"[go-functions]"," fix metrics server handler error #9394",(0,o.kt)("br",{parentName:"p"}),"\n","[Stats]"," Expose offloaded storage size to the topic stats #9335",(0,o.kt)("br",{parentName:"p"}),"\n","Add subscription backlog size info for topicstats. #9302",(0,o.kt)("br",{parentName:"p"}),"\n","[Pulsar Admin]"," Expose schema ledger in ",(0,o.kt)("inlineCode",{parentName:"p"},"topic stats-internal")," #9284",(0,o.kt)("br",{parentName:"p"}),"\n","remove duplicated broker prometheus metrics type #8995",(0,o.kt)("br",{parentName:"p"}),"\n","consumer support update stats with specified stats #8951",(0,o.kt)("br",{parentName:"p"}),"\n","Monitor if a cursor moves its mark-delete position #8930",(0,o.kt)("br",{parentName:"p"}),"\n","Export Prometheus metric for messageTTL #8871  "),(0,o.kt)("h2",{id:"tieredstorage"},"tieredstorage"),(0,o.kt)("p",null,"[tiered-storage]"," Allow AWS credentials to be refreshed #9387",(0,o.kt)("br",{parentName:"p"}),"\n","Fix fake complete issue in offloading #9306",(0,o.kt)("br",{parentName:"p"}),"\n","[website]"," Add azure offloader to website #9018",(0,o.kt)("br",{parentName:"p"}),"\n","[Tiered Storage]"," Offload manager initialization once #8739",(0,o.kt)("br",{parentName:"p"}),"\n","Configurable data source for offloaded messages #8717  "),(0,o.kt)("h2",{id:"go"},"go"),(0,o.kt)("p",null,"[#9177]"," add metrics server to go function #9318",(0,o.kt)("br",{parentName:"p"}),"\n","Issue #9123 Go Functions #9124",(0,o.kt)("br",{parentName:"p"}),"\n","Fix single-quotes added to user-conf #8780  "),(0,o.kt)("h2",{id:"connector"},"connector"),(0,o.kt)("p",null,"Fix: don't attempt to clean up packages when Source/Sink is builtin #9289",(0,o.kt)("br",{parentName:"p"}),"\n","[connector]","fix debezium-connector error log #9063",(0,o.kt)("br",{parentName:"p"}),"\n","Fix NSQ source META-INF file name and sourceConfigClass #8941",(0,o.kt)("br",{parentName:"p"}),"\n","Pulsar IO: Make Source topic Schema information available to downstream Sinks #8854  "),(0,o.kt)("h2",{id:"security"},"security"),(0,o.kt)("p",null,"[Authentication]","Add authentication metrics #9244",(0,o.kt)("br",{parentName:"p"}),"\n","[Functions-worker]"," Fix broker and functions-worker authentication compatibility #9190",(0,o.kt)("br",{parentName:"p"}),"\n","Disallow parsing of token with none signature in authenticateToken #9172",(0,o.kt)("br",{parentName:"p"}),"\n","[docs]"," Update tlsProviderFactoryClass example in bookkeeper.conf #9117",(0,o.kt)("br",{parentName:"p"}),"\n","[Authentication]"," Support chained authentication with same auth method name #9094",(0,o.kt)("br",{parentName:"p"}),"\n","Add refresh authentication command in broker #9064",(0,o.kt)("br",{parentName:"p"}),"\n","Update maven artifact version #8966  "),(0,o.kt)("h2",{id:"test"},"test"),(0,o.kt)("p",null,"Fixed race condition in ManagedLedgerTest.testAsyncUpdateProperties() #9152",(0,o.kt)("br",{parentName:"p"}),"\n","[Java shade client]"," Add encryption integration test #8850",(0,o.kt)("br",{parentName:"p"}),"\n","[C++]"," Fixed flaky test: AuthPluginTest.testTlsDetectHttpsWithHostNameValidation #8771",(0,o.kt)("br",{parentName:"p"}),"\n","Split pulsar-client-and-admin-shade-test into two parts #8716  "),(0,o.kt)("h2",{id:"helm"},"helm"),(0,o.kt)("p",null,"[docs]","add parameter for helm init cluster #9070  "),(0,o.kt)("h2",{id:"proxy"},"proxy"),(0,o.kt)("p",null,"Fix Proxy Config bindAddress does not working for servicePort  #9068",(0,o.kt)("br",{parentName:"p"}),"\n","Return correct authz and auth errors from proxy to client #9055  "),(0,o.kt)("h2",{id:"storm"},"storm"),(0,o.kt)("p",null,"[ISSUE]"," DOCS-8994 fix the links of examples #9062  "),(0,o.kt)("h2",{id:"deploy"},"deploy"),(0,o.kt)("p",null,"Fix the metadata setup compatibility issue #8959"))}m.isMDXComponent=!0}}]);