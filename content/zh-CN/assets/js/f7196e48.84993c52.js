"use strict";(self.webpackChunkwebsite_next=self.webpackChunkwebsite_next||[]).push([[16481],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>m});var n=t(67294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=n.createContext({}),p=function(e){var a=n.useContext(i),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},u=function(e){var a=p(e.components);return n.createElement(i.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},c=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),c=p(t),m=r,k=c["".concat(i,".").concat(m)]||c[m]||d[m]||l;return t?n.createElement(k,o(o({ref:a},u),{},{components:t})):n.createElement(k,o({ref:a},u))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=t.length,o=new Array(l);o[0]=c;var s={};for(var i in a)hasOwnProperty.call(a,i)&&(s[i]=a[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,o[1]=s;for(var p=2;p<l;p++)o[p]=t[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}c.displayName="MDXCreateElement"},55725:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>i,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var n=t(87462),r=(t(67294),t(3905));const l={id:"getting-started-standalone",title:"\u672c\u5730\u914d\u7f6e\u5355\u673a Pulsar",sidebar_label:"\u672c\u5730\u8fd0\u884c Pulsar"},o=void 0,s={unversionedId:"getting-started-standalone",id:"getting-started-standalone",title:"\u672c\u5730\u914d\u7f6e\u5355\u673a Pulsar",description:"\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u5355\u673a\u6a21\u5f0f Pulsar \u8fdb\u884c\u672c\u5730\u5f00\u53d1\u548c\u6d4b\u8bd5\u3002 Pulsar\u7684\u5355\u673a\u6a21\u5f0f\u5305\u62ec\u4e00\u4e2aPulsar Broker\uff0c\u5fc5\u8981\u7684RocksDB\u548cBookKeeper\u7ec4\u4ef6\u90fd\u5728\u540c\u4e00\u4e2aJava\u865a\u62df\u673a(JVM)\u4e2d\u8fd0\u884c\u3002",source:"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/getting-started-standalone.md",sourceDirName:".",slug:"/getting-started-standalone",permalink:"/zh-CN/docs/next/getting-started-standalone",draft:!1,editUrl:"https://github.com/apache/pulsar/edit/master/site2/docs/getting-started-standalone.md",tags:[],version:"current",frontMatter:{id:"getting-started-standalone",title:"\u672c\u5730\u914d\u7f6e\u5355\u673a Pulsar",sidebar_label:"\u672c\u5730\u8fd0\u884c Pulsar"},sidebar:"docsSidebar",previous:{title:"\u5173\u4e8e",permalink:"/zh-CN/docs/next/"},next:{title:"Run Pulsar in Docker",permalink:"/zh-CN/docs/next/getting-started-docker"}},i={},p=[{value:"\u5b89\u88c5\u5355\u673a\u6a21\u5f0fPulsar",id:"\u5b89\u88c5\u5355\u673a\u6a21\u5f0fpulsar",level:2},{value:"\u7cfb\u7edf\u9700\u6c42",id:"\u7cfb\u7edf\u9700\u6c42",level:3},{value:"Install JDK on M1",id:"install-jdk-on-m1",level:4},{value:"Install Pulsar using binary release",id:"install-pulsar-using-binary-release",level:3},{value:"What your package contains",id:"what-your-package-contains",level:4},{value:"Install built-in connectors (optional)",id:"install-built-in-connectors-optional",level:3},{value:"Install tiered storage offloaders (optional)",id:"install-tiered-storage-offloaders-optional",level:3},{value:"Start Pulsar standalone",id:"start-pulsar-standalone",level:2},{value:"Use Pulsar standalone",id:"use-pulsar-standalone",level:2},{value:"Consume a message",id:"consume-a-message",level:3},{value:"Produce a message",id:"produce-a-message",level:3},{value:"Stop Pulsar standalone",id:"stop-pulsar-standalone",level:2}],u={toc:p};function d(e){let{components:a,...t}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u5355\u673a\u6a21\u5f0f Pulsar \u8fdb\u884c\u672c\u5730\u5f00\u53d1\u548c\u6d4b\u8bd5\u3002 Pulsar\u7684\u5355\u673a\u6a21\u5f0f\u5305\u62ec\u4e00\u4e2aPulsar Broker\uff0c\u5fc5\u8981\u7684",(0,r.kt)("a",{parentName:"p",href:"http://rocksdb.org/"},"RocksDB"),"\u548cBookKeeper\u7ec4\u4ef6\u90fd\u5728\u540c\u4e00\u4e2aJava\u865a\u62df\u673a(JVM)\u4e2d\u8fd0\u884c\u3002"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"\u751f\u4ea7\u73af\u5883\u4e2d\u7684Pulsar\uff1f"),(0,r.kt)("br",{parentName:"p"}),"\n","\u5982\u679c\u4f60\u6b63\u5728\u5bfb\u627e\u5728\u751f\u4ea7\u73af\u5883\u4e2d\u8fd0\u884c\u5b8c\u6574\u7684Pulsar\u96c6\u7fa4\u65b9\u6cd5\uff0c\u8bf7\u53c2\u8003",(0,r.kt)("a",{parentName:"p",href:"/zh-CN/docs/next/deploy-bare-metal"},"Pulsar\u7684\u96c6\u7fa4\u90e8\u7f72"),"\u3002")),(0,r.kt)("h2",{id:"\u5b89\u88c5\u5355\u673a\u6a21\u5f0fpulsar"},"\u5b89\u88c5\u5355\u673a\u6a21\u5f0fPulsar"),(0,r.kt)("p",null,"\u8fd9\u4e2a\u6559\u7a0b\u5c06\u8be6\u7ec6\u4ecb\u7ecd\u5728\u672c\u5730\u5b89\u88c5Pulsar\u7684\u6bcf\u4e00\u6b65\u3002"),(0,r.kt)("h3",{id:"\u7cfb\u7edf\u9700\u6c42"},"\u7cfb\u7edf\u9700\u6c42"),(0,r.kt)("p",null,"\u76ee\u524d\uff0cPulsar\u53ef\u4ee5\u572864\u4f4d\u7684",(0,r.kt)("strong",{parentName:"p"},"macOS"),"\u3001",(0,r.kt)("strong",{parentName:"p"},"Linux"),"\u548c",(0,r.kt)("strong",{parentName:"p"},"Windows"),"\u4e0b\u8fd0\u884c\u3002 \u8981\u4f7f\u7528 Pulsar\uff0c\u60a8\u9700\u8981\u5b89\u88c5 64 \u4f4d JRE/JDK\u3002 \u60a8\u53ef\u4ee5\u53c2\u9605",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/pulsar/blob/master/README.md#pulsar-runtime-java-version-recommendation"},"Pulsar\u8fd0\u884c\u65f6Java\u7248\u672c\u63a8\u8350"),"\u6765\u9009\u62e9Java\u8fd0\u884c\u65f6\u7248\u672c\u3002"),(0,r.kt)("p",null,":::\u63d0\u793a"),(0,r.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cPulsar\u9700\u8981\u5206\u914d2G\u7684JVM\u5185\u5b58\u4ee5\u542f\u52a8\u3002 \u5b83\u53ef\u4ee5\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"conf/pulsar_env.sh")," \u6587\u4ef6\u4e2d\u66f4\u6539\uff0c\u6587\u4ef6\u540d\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"PULSAR_MEM"),"\u3002 \u8fd9\u662f\u4e00\u4e2a\u989d\u5916\u4f20\u5165JVM\u7684\u542f\u52a8\u53c2\u6570\u3002"),(0,r.kt)("p",null,":::"),(0,r.kt)("p",null,":::\u6ce8"),(0,r.kt)("p",null,"Broker \u53ea\u80fd\u572864\u4f4dJVM\u4e0a\u8fd0\u884c\u3002"),(0,r.kt)("p",null,":::"),(0,r.kt)("h4",{id:"install-jdk-on-m1"},"Install JDK on M1"),(0,r.kt)("p",null,"In the current version, Pulsar uses a BookKeeper version which in turn uses RocksDB. RocksDB is compiled to work on x86 architecture and not ARM. Therefore, Pulsar can only work with x86 JDK. This is planned to be fixed in future versions of Pulsar."),(0,r.kt)("p",null,"\u8f7b\u677e\u5b89\u88c5 x86 JDK \u7684\u65b9\u6cd5\u4e4b\u4e00\u662f\u4f7f\u7528 ",(0,r.kt)("a",{parentName:"p",href:"http://sdkman.io"},"SDKMan"),"\u3002 \u6309\u7167SDKMan\u7f51\u7ad9\u4e0a\u7684\u6307\u793a\u64cd\u4f5c\u5373\u53ef\u3002"),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Turn on Rosetta2 compatibility for SDKMan by editing ",(0,r.kt)("inlineCode",{parentName:"li"},"~/.sdkman/etc/config")," and changing the following property from ",(0,r.kt)("inlineCode",{parentName:"li"},"false")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"true"),".")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-properties"},"\nsdkman_rosetta2_compatible=true\n\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"Close the current shell / terminal window and open a new one."),(0,r.kt)("li",{parentName:"ol"},"Make sure you don't have any previously installed JVM of the same version by listing existing installed versions.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"\nsdk list java|grep installed\n\n")),(0,r.kt)("p",null,"Example output:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"\n               | >>> | 17.0.3.6.1   | amzn    | installed  | 17.0.3.6.1-amzn\n\n")),(0,r.kt)("p",null,"If you have any Java 17 version installed, uninstall it."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"\nsdk uinstall java 17.0.3.6.1\n\n")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"Install any Java versions greater than Java 8.")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"\n sdk install java 17.0.3.6.1-amzn\n\n")),(0,r.kt)("h3",{id:"install-pulsar-using-binary-release"},"Install Pulsar using binary release"),(0,r.kt)("p",null,"\u5f00\u59cb\u8fd0\u884cPulsar\u4e4b\u524d\uff0c\u8bf7\u5148\u7528\u4e0b\u5217\u51e0\u79cd\u65b9\u5f0f\u4e0b\u8f7d\u4e8c\u8fdb\u5236\u5305:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"download from the Apache mirror (",(0,r.kt)("a",{href:"https://archive.apache.org/dist/pulsar/pulsar-2.10.1/apache-pulsar-2.10.1-bin.tar.gz",download:!0},"Pulsar 2.10.1 binary release"),")")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"download from the Pulsar ",(0,r.kt)("a",{parentName:"p",href:"/download"},"downloads page"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"download from the Pulsar ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/pulsar/releases/latest"},"releases page"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"use ",(0,r.kt)("a",{parentName:"p",href:"https://www.gnu.org/software/wget"},"wget"),":"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"\n$ wget https://archive.apache.org/dist/pulsar/pulsar-2.10.1/apache-pulsar-2.10.1-bin.tar.gz\n\n")))),(0,r.kt)("p",null,"After you download the tarball, untar it and use the ",(0,r.kt)("inlineCode",{parentName:"p"},"cd")," command to navigate to the resulting directory:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\n$ tar xvfz apache-pulsar-2.10.1-bin.tar.gz\n$ cd apache-pulsar-2.10.1\n\n")),(0,r.kt)("h4",{id:"what-your-package-contains"},"What your package contains"),(0,r.kt)("p",null,"The Pulsar binary package initially contains the following directories:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Directory"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Contains"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"bin")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Pulsar's command-line tools, such as ",(0,r.kt)("a",{parentName:"td",href:"/zh-CN/docs/next/reference-cli-tools#pulsar"},(0,r.kt)("inlineCode",{parentName:"a"},"pulsar"))," and ",(0,r.kt)("a",{href:"/tools/pulsar-admin/",target:"_blank"},(0,r.kt)("inlineCode",{parentName:"td"},"pulsar-admin")),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"conf")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Configuration files for Pulsar, including ",(0,r.kt)("a",{parentName:"td",href:"/zh-CN/docs/next/reference-configuration#broker"},"broker configuration")," and more.",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"td"},"Note:")," Pulsar standalone uses RocksDB as the local metadata store and its configuration file path ",(0,r.kt)("a",{parentName:"td",href:"/zh-CN/docs/next/reference-configuration"},(0,r.kt)("inlineCode",{parentName:"a"},"metadataStoreConfigPath"))," is configurable in the ",(0,r.kt)("inlineCode",{parentName:"td"},"standalone.conf")," file. For more information about the configurations of RocksDB, see ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/facebook/rocksdb/blob/main/examples/rocksdb_option_file_example.ini"},"here")," and related ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/facebook/rocksdb/wiki/RocksDB-Tuning-Guide"},"documentation"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"examples")),(0,r.kt)("td",{parentName:"tr",align:"left"},"A Java JAR file containing ",(0,r.kt)("a",{parentName:"td",href:"/zh-CN/docs/next/functions-overview"},"Pulsar Functions")," example.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"instances")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Artifacts created for ",(0,r.kt)("a",{parentName:"td",href:"/zh-CN/docs/next/functions-overview"},"Pulsar Functions"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"lib")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The ",(0,r.kt)("a",{parentName:"td",href:"https://en.wikipedia.org/wiki/JAR_(file_format)"},"JAR")," files used by Pulsar.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"licenses")),(0,r.kt)("td",{parentName:"tr",align:"left"},"License files, in the",(0,r.kt)("inlineCode",{parentName:"td"},".txt")," form, for various components of the Pulsar ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/apache/pulsar"},"codebase"),".")))),(0,r.kt)("p",null,"These directories are created once you begin running Pulsar."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Directory"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Contains"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"data")),(0,r.kt)("td",{parentName:"tr",align:"left"},"The data storage directory used by RocksDB and BookKeeper.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"logs")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Logs created by the installation.")))),(0,r.kt)("p",null,":::\u63d0\u793a"),(0,r.kt)("p",null,"If you want to use built-in connectors and tiered storage offloaders, you can install them according to the following instructions\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#install-builtin-connectors-optional"},"Install built-in connectors (optional)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#install-tiered-storage-offloaders-optional"},"Install tiered storage offloaders (optional)")," Otherwise, skip this step and perform the next step ",(0,r.kt)("a",{parentName:"li",href:"#start-pulsar-standalone"},"Start Pulsar standalone"),". Pulsar can be successfully installed without installing bulitin connectors and tiered storage offloaders.")),(0,r.kt)("p",null,":::"),(0,r.kt)("h3",{id:"install-built-in-connectors-optional"},"Install built-in connectors (optional)"),(0,r.kt)("p",null,"Since ",(0,r.kt)("inlineCode",{parentName:"p"},"2.1.0-incubating")," release, Pulsar releases a separate binary distribution, containing all the ",(0,r.kt)("inlineCode",{parentName:"p"},"builtin")," connectors. To enable those ",(0,r.kt)("inlineCode",{parentName:"p"},"builtin")," connectors, you can download the connectors tarball release in one of the following ways:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"download from the Apache mirror ",(0,r.kt)("a",{href:"https://archive.apache.org/dist/pulsar/pulsar-2.10.1/connectors",download:!0},"Pulsar IO Connectors 2.10.1 release"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"download from the Pulsar ",(0,r.kt)("a",{parentName:"p",href:"/download"},"downloads page"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"download from the Pulsar ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/pulsar/releases/latest"},"releases page"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"use ",(0,r.kt)("a",{parentName:"p",href:"https://www.gnu.org/software/wget"},"wget"),":"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"\n$ wget https://archive.apache.org/dist/pulsar/pulsar-2.10.1/connectors/{connector}-2.10.1.nar\n\n")))),(0,r.kt)("p",null,"After you download the NAR file, copy the file to the ",(0,r.kt)("inlineCode",{parentName:"p"},"connectors")," directory in the pulsar directory. For example, if you download the ",(0,r.kt)("inlineCode",{parentName:"p"},"pulsar-io-aerospike-2.10.1.nar")," connector file, enter the following commands:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\n$ mkdir connectors\n$ mv pulsar-io-aerospike-2.10.1.nar connectors\n\n$ ls connectors\npulsar-io-aerospike-2.10.1.nar\n...\n\n")),(0,r.kt)("p",null,":::\u6ce8"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If you are running Pulsar in a bare metal cluster, make sure ",(0,r.kt)("inlineCode",{parentName:"li"},"connectors")," tarball is unzipped in every pulsar directory of the broker (or in every pulsar directory of function-worker if you are running a separate worker cluster for Pulsar Functions)."),(0,r.kt)("li",{parentName:"ul"},"If you are ",(0,r.kt)("a",{parentName:"li",href:"/zh-CN/docs/next/getting-started-docker"},"running Pulsar in Docker")," or deploying Pulsar using a docker image (e.g. ",(0,r.kt)("a",{parentName:"li",href:"/zh-CN/docs/next/deploy-kubernetes"},"K8S")," or ",(0,r.kt)("a",{parentName:"li",href:"https://dcos.io/"},"DC/OS"),", you can use the ",(0,r.kt)("inlineCode",{parentName:"li"},"apachepulsar/pulsar-all")," image instead of the ",(0,r.kt)("inlineCode",{parentName:"li"},"apachepulsar/pulsar")," image. ",(0,r.kt)("inlineCode",{parentName:"li"},"apachepulsar/pulsar-all")," image has already bundled ",(0,r.kt)("a",{parentName:"li",href:"/zh-CN/docs/next/io-overview#working-with-connectors"},"all builtin connectors"),".")),(0,r.kt)("p",null,":::"),(0,r.kt)("h3",{id:"install-tiered-storage-offloaders-optional"},"Install tiered storage offloaders (optional)"),(0,r.kt)("p",null,":::\u63d0\u793a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Since ",(0,r.kt)("inlineCode",{parentName:"li"},"2.2.0")," release, Pulsar releases a separate binary distribution, containing the tiered storage offloaders."),(0,r.kt)("li",{parentName:"ul"},"To enable the tiered storage feature, follow the instructions below; otherwise skip this section.")),(0,r.kt)("p",null,":::"),(0,r.kt)("p",null,"To get started with ",(0,r.kt)("a",{parentName:"p",href:"/zh-CN/docs/next/concepts-tiered-storage"},"tiered storage offloaders"),", you need to download the offloaders tarball release on every broker node in one of the following ways:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"download from the Apache mirror ",(0,r.kt)("a",{href:"https://archive.apache.org/dist/pulsar/pulsar-2.10.1/apache-pulsar-offloaders-2.10.1-bin.tar.gz",download:!0},"Pulsar Tiered Storage Offloaders 2.10.1 release"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"download from the Pulsar ",(0,r.kt)("a",{parentName:"p",href:"/download"},"downloads page"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"download from the Pulsar ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/apache/pulsar/releases/latest"},"releases page"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"use ",(0,r.kt)("a",{parentName:"p",href:"https://www.gnu.org/software/wget"},"wget"),":"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"\n$ wget https://archive.apache.org/dist/pulsar/pulsar-2.10.1/apache-pulsar-offloaders-2.10.1-bin.tar.gz\n\n")))),(0,r.kt)("p",null,"After you download the tarball, untar the offloaders package and copy the offloaders as ",(0,r.kt)("inlineCode",{parentName:"p"},"offloaders")," in the pulsar directory:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\n$ tar xvfz apache-pulsar-offloaders-2.10.1-bin.tar.gz\n\n// you will find a directory named `apache-pulsar-offloaders-2.10.1` in the pulsar directory\n// then copy the offloaders\n\n$ mv apache-pulsar-offloaders-2.10.1/offloaders offloaders\n\n$ ls offloaders\ntiered-storage-jcloud-2.10.1.nar\n\n")),(0,r.kt)("p",null,"For more information on how to configure tiered storage, see ",(0,r.kt)("a",{parentName:"p",href:"/zh-CN/docs/next/cookbooks-tiered-storage"},"Tiered storage cookbook"),"."),(0,r.kt)("p",null,":::\u6ce8"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"If you are running Pulsar in a bare metal cluster, make sure that ",(0,r.kt)("inlineCode",{parentName:"li"},"offloaders")," tarball is unzipped in every broker's pulsar directory."),(0,r.kt)("li",{parentName:"ul"},"If you are ",(0,r.kt)("a",{parentName:"li",href:"/zh-CN/docs/next/getting-started-docker"},"running Pulsar in Docker")," or deploying Pulsar using a docker image (e.g. ",(0,r.kt)("a",{parentName:"li",href:"/zh-CN/docs/next/deploy-kubernetes"},"K8S")," or DC/OS), you can use the ",(0,r.kt)("inlineCode",{parentName:"li"},"apachepulsar/pulsar-all")," image instead of the ",(0,r.kt)("inlineCode",{parentName:"li"},"apachepulsar/pulsar")," image. ",(0,r.kt)("inlineCode",{parentName:"li"},"apachepulsar/pulsar-all")," image has already bundled tiered storage offloaders.")),(0,r.kt)("p",null,":::"),(0,r.kt)("h2",{id:"start-pulsar-standalone"},"Start Pulsar standalone"),(0,r.kt)("p",null,"Once you have an up-to-date local copy of the release, you can start a local cluster using the ",(0,r.kt)("a",{parentName:"p",href:"/zh-CN/docs/next/reference-cli-tools#pulsar"},(0,r.kt)("inlineCode",{parentName:"a"},"pulsar"))," command, which is stored in the ",(0,r.kt)("inlineCode",{parentName:"p"},"bin")," directory, and specifying that you want to start Pulsar in standalone mode."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\n$ bin/pulsar standalone\n\n")),(0,r.kt)("p",null,"If you have started Pulsar successfully, you will see ",(0,r.kt)("inlineCode",{parentName:"p"},"INFO"),"-level log messages like this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\n21:59:29.327 [DLM-/stream/storage-OrderedScheduler-3-0] INFO  org.apache.bookkeeper.stream.storage.impl.sc.StorageContainerImpl - Successfully started storage container (0).\n21:59:34.576 [main] INFO  org.apache.pulsar.broker.authentication.AuthenticationService - Authentication is disabled\n21:59:34.576 [main] INFO  org.apache.pulsar.websocket.WebSocketService - Pulsar WebSocket Service started\n\n")),(0,r.kt)("p",null,":::\u63d0\u793a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The service is running on your terminal, which is under your direct control. If you need to run other commands, open a new terminal window."),(0,r.kt)("li",{parentName:"ul"},"To run the service as a background process, you can use the ",(0,r.kt)("inlineCode",{parentName:"li"},"bin/pulsar-daemon start standalone")," command. For more information, see ",(0,r.kt)("a",{parentName:"li",href:"/docs/en/reference-cli-tools/#pulsar-daemon"},"pulsar-daemon"),"."),(0,r.kt)("li",{parentName:"ul"},"To perform a health check, you can use the ",(0,r.kt)("inlineCode",{parentName:"li"},"bin/pulsar-admin brokers healthcheck")," command. For more information, see ",(0,r.kt)("a",{href:"/tools/pulsar-admin/",target:"_blank"},"Pulsar-admin docs"),"."),(0,r.kt)("li",{parentName:"ul"},"When you start a local standalone cluster, a ",(0,r.kt)("inlineCode",{parentName:"li"},"public/default")," ",(0,r.kt)("a",{parentName:"li",href:"/zh-CN/docs/next/concepts-messaging#namespaces"},"namespace")," is created automatically. The namespace is used for development purposes. All Pulsar topics are managed within namespaces. For more information, see ",(0,r.kt)("a",{parentName:"li",href:"/zh-CN/docs/next/concepts-messaging#topics"},"Topics"),"."),(0,r.kt)("li",{parentName:"ul"},"By default, there is no encryption, authentication, or authorization configured. Apache Pulsar can be accessed from a remote server without any authorization. See ",(0,r.kt)("a",{parentName:"li",href:"/zh-CN/docs/next/security-overview"},"Security Overview")," for how to secure your deployment.")),(0,r.kt)("p",null,":::"),(0,r.kt)("h2",{id:"use-pulsar-standalone"},"Use Pulsar standalone"),(0,r.kt)("p",null,"Pulsar provides a CLI tool called ",(0,r.kt)("a",{parentName:"p",href:"/zh-CN/docs/next/reference-cli-tools#pulsar-client"},(0,r.kt)("inlineCode",{parentName:"a"},"pulsar-client")),". The pulsar-client tool enables you to consume and produce messages to a Pulsar topic in a running cluster."),(0,r.kt)("h3",{id:"consume-a-message"},"Consume a message"),(0,r.kt)("p",null,"The following command consumes a message with the subscription name ",(0,r.kt)("inlineCode",{parentName:"p"},"first-subscription")," to the ",(0,r.kt)("inlineCode",{parentName:"p"},"my-topic")," topic:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'\n$ bin/pulsar-client consume my-topic -s "first-subscription"\n\n')),(0,r.kt)("p",null,"If the message has been successfully consumed, you will see a confirmation like the following in the ",(0,r.kt)("inlineCode",{parentName:"p"},"pulsar-client")," logs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\n22:17:16.781 [main] INFO  org.apache.pulsar.client.cli.PulsarClientTool - 1 messages successfully consumed\n\n")),(0,r.kt)("p",null,":::\u63d0\u793a"),(0,r.kt)("p",null,"As you have noticed that we do not explicitly create the ",(0,r.kt)("inlineCode",{parentName:"p"},"my-topic")," topic, to which we consume the message. When you consume a message on a topic that does not yet exist, Pulsar creates that topic for you automatically. Producing a message to a topic that does not exist will automatically create that topic for you as well."),(0,r.kt)("p",null,":::"),(0,r.kt)("h3",{id:"produce-a-message"},"Produce a message"),(0,r.kt)("p",null,"The following command produces a message saying ",(0,r.kt)("inlineCode",{parentName:"p"},"hello-pulsar")," to the ",(0,r.kt)("inlineCode",{parentName:"p"},"my-topic")," topic:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'\n$ bin/pulsar-client produce my-topic --messages "hello-pulsar"\n\n')),(0,r.kt)("p",null,"If the message has been successfully published to the topic, you will see a confirmation like the following in the ",(0,r.kt)("inlineCode",{parentName:"p"},"pulsar-client")," logs:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\n22:21:08.693 [main] INFO  org.apache.pulsar.client.cli.PulsarClientTool - 1 messages successfully produced\n\n")),(0,r.kt)("h2",{id:"stop-pulsar-standalone"},"Stop Pulsar standalone"),(0,r.kt)("p",null,"Press ",(0,r.kt)("inlineCode",{parentName:"p"},"Ctrl+C")," to stop a local standalone Pulsar."),(0,r.kt)("p",null,":::\u63d0\u793a"),(0,r.kt)("p",null,"If the service runs as a background process using the ",(0,r.kt)("inlineCode",{parentName:"p"},"bin/pulsar-daemon start standalone")," command, then use the ",(0,r.kt)("inlineCode",{parentName:"p"},"bin/pulsar-daemon stop standalone"),"  command to stop the service. For more information, see ",(0,r.kt)("a",{parentName:"p",href:"/zh-CN/docs/next/reference-cli-tools#pulsar-daemon"},"pulsar-daemon"),"."),(0,r.kt)("p",null,":::"))}d.isMDXComponent=!0}}]);